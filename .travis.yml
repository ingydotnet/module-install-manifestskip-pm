# DO NOT EDIT
#
# This .travis.yml file generated by Zilla::Dist. To upgrade it, run:
#
#   > make update
#

language: perl

arch:
 - amd64
 - ppc64le

perl:
- '5.30'
- '5.28'
- '5.26'
- '5.24'
- '5.22'
- '5.20'
- '5.16'

install:
- cpanm --quiet --notest
  Devel::Cover::Report::Coveralls
  Module::Install
  Module::Manifest::Skip

script:
- PERL5OPT=-MDevel::Cover=-coverage,statement,branch,condition,path,subroutine
  prove -lv test/
- cover

after_success:
- cover -report coveralls

notifications:
  irc:
    channels:
    - irc.freenode.net#pkg
    on_success: change
    on_failure: always
    skip_join: true

# Hack to not run on tag pushes:
branches:
  except:
  - /^v?[0-9]+\.[0-9]+/
